"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var validationResult;getRandomImage();var UserImages=function(){function e(){_classCallCheck(this,e),this.userEmail=null,this.chosenImages=new Array,this.init=function(){function t(e){var t=document.querySelector(".email--validation-copy");t.style.color="#25BD38",t.innerHTML="Using ".concat(e)}var a=this,e=document.querySelector(".email--button"),i=document.querySelector(".image--attach-button"),n=createValidator();e.addEventListener("click",function(){if((validationResult=n())&&"empty"!==validationResult)if(document.querySelector(".image--attach-button").classList.remove("button-inactive"),a.userEmail)if(validationResult!==a.userEmail&&0<a.chosenImages.length){if(confirm("A new email has been passed, and you'll lose any saved images. Are you sure you want to continue?")){a.userEmail=validationResult,t(a.userEmail),a.chosenImages=[];for(var e=document.getElementsByClassName("gallery--item");e[0];)e[0].parentNode.removeChild(e[0])}}else a.userEmail=validationResult,t(a.userEmail);else a.userEmail=validationResult,t(a.userEmail)}),i.addEventListener("click",function(){validationResult&&"empty"!==validationResult&&a.addGalleryItem()})},this.init()}return _createClass(e,[{key:"addGalleryItem",value:function(){var t=this,e=document.cookie.split("; ").find(function(e){return e.startsWith("currentImage_download_url=")}).split("=")[1],a=document.cookie.split("; ").find(function(e){return e.startsWith("currentImage_id=")}).split("=")[1],i=document.querySelector(".gallery"),n=document.createElement("figure");n.classList.add("gallery--item"),n.innerHTML='\n            <div class="gallery--img-wrapper">\n                <img src="'.concat(e,'" class="gallery--img fade-in" />\n            </div>\n            <div class="gallery--item-remove">\n                <i class="fas fa-times"></i>\n            </div>'),i.insertBefore(n,document.querySelector(".gallery--item-spacer")),this.chosenImages.push(a),n.querySelector(".gallery--item-remove").addEventListener("click",function(e){e=e.target.parentNode.parentNode;e.parentNode.removeChild(e);e=t.chosenImages.indexOf(a);t.chosenImages.splice(e,1)})}}]),e}(),newUser=new UserImages;